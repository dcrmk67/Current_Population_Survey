

library(tidyverse)

#download.file('https://www2.census.gov/programs-surveys/cps/datasets/2020/basic/may20pub.dat.gz', 'c:/temp/cps.zip')

#unzip('c:/temp/cps.zip')

data <- read_fwf('./may20pub.dat', 
                  fwf_cols(HRHHID = c(1,15),
                           HRMONTH = c(16,17),
                           HRYEAR4 = c(18,21),
                           HETENURE = c(29,30),
                           HEHOUSUT = c(31,32),
                           HEFAMINC = c(39,40),
                           HWHHWGT = c(47,56),
                           HRNUMHOU = c(59,60),
                           HRHTYPE = c(61,62),
                           HUBUS = c(79,80),
                           HUBUSL1 = c(81,82),
                           HUBUSL2 = c(83,84),
                           HUBUSL3 = c(85,86),
                           HUBUSL4 = c(87,88),
                           GEREG = c(89,90),
                           GEDIV = c(91,91),
                           GESTFIPS = c(93,94),
                           GTCBSA = c(96,100),
                           GTCO = c(101,103),
                           GTCBSAST = c(104,104),
                           GTMETSTA = c(105,105),
                           GTINDVPC = c(106,106),
                           GTCBSASZ = c(107,107),
                           GTCSA = c(108,110),
                           PERRP = c(118,119),
                           PRTAGE = c(122,123),
                           PEMARITL = c(125,126),
                           PESPOUSE = c(127,128),
                           PESEX = c(129,130),
                           PEAFEVER = c(131,132),
                           PEAFNOW = c(135,136),
                           PEEDUCA = c(137,138),
                           PTDTRACE = c(139,140),
                           PRDTHSP = c(141,142),
                           PUCHINHH = c(143,144),
                           PEHSPNON = c(157,158),
                           PRMARSTA = c(159,160),
                           PRPERTYP = c(161,162),
                           PENATVTY = c(163,165),
                           PEMNTVTY = c(166,168),
                           PEFNTVTY = c(169,171),
                           PRCITSHP = c(172,173),
                           PRINUSYR = c(176,177),
                           PEMLR = c(180,181),
                           PUWK = c(182,183),
                           PUBUS1 = c(184,185),
                           PUBUS2OT = c(186,187),
                           PURETOT = c(196,197),
                           PUDIS = c(198,199),
                           PERET1 = c(200,201),
                           PUDIS1 = c(202,203),
                           PUDIS2 = c(204,205),
                           PUABSOT = c(206,207),
                           PULAY = c(208,209),
                           PEABSRSN = c(210,211),
                           PEABSPDO = c(212,213),
                           PEMJOT = c(214,215),
                           PEMJNUM = c(216,217),
                           PEHRUSL1 = c(218,219),
                           PEHRUSL2 = c(220,221),
                           PEHRFTPT = c(222,223),
                           PEHRUSLT = c(224,226),
                           PEHRWANT = c(227,228),
                           PEHRRSN1 = c(229,230),
                           PEHRRSN2 = c(231,232),
                           PEHRRSN3 = c(233,234),
                           PUHROFF1 = c(235,236),
                           PUHROFF2 = c(237,238),
                           PUHROT1 = c(239,240),
                           PUHROT2 = c(241,242),
                           PEHRACT1 = c(243,244),
                           PEHRACT2 = c(245,246),
                           PEHRACTT = c(247,249),
                           PEHRAVL = c(250,251),
                           PULAYDT = c(273,274),
                           PULAY6M = c(275,276),
                           PELAYAVL = c(277,278),
                           PULAYAVR = c(279,280),
                           PELAYLK = c(281,282),
                           PELAYDUR = c(283,285),
                           PELAYFTO = c(286,287),
                           PULK = c(294,295),
                           PELKM1 = c(296,297),
                           PULKM2 = c(298,299),
                           PULKM3 = c(300,301),
                           PULKM4 = c(302,303),
                           PULKM5 = c(304,305),
                           PULKM6 = c(306,307),
                           PULKDK1 = c(308,309),
                           PULKDK2 = c(310,311),		
                           PULKDK3 = c(312,313),
                           PULKDK4 = c(314,315),
                           PULKDK5 = c(316,317),
                           PULKDK6 = c(318,319),
                           PULKPS1 = c(320,321),
                           PULKPS2 = c(322,323),
                           PULKPS3 = c(324,325),
                           PULKPS4 = c(326,327),
                           PULKPS5 = c(328,329),
                           PULKPS6 = c(330,331),
                           PELKAVL = c(332,333),
                           PULKAVR = c(334,335),
                           PELKLL1O = c(336,337),
                           PELKLL2O = c(338,339),
                           PELKLWO = c(340,341),
                           PELKDUR = c(342,344),
                           PELKFTO = c(345,346),
                           PEDWWNTO = c(347,348),
                           PEDWRSN = c(349,350),
                           PEDWLKO = c(351,352),
                           PEDWWK = c(353,354),
                           PEDW4WK = c(355,356),
                           PEDWLKWK = c(357,358),
                           PEDWAVL = c(359,360),
                           PEDWAVR = c(361,362),
                           PEJHWKO = c(373,374),
                           PUJHDP1O = c(375,376),
                           PEJHRSN = c(377,378),
                           PEJHWANT = c(379,380),
                           PRABSREA = c(385,386),
                           PRCIVLF = c(387,388),
                           PREMPHRS = c(391,392),
                           PREMPNOT = c(393,394),
                           PREXPLF = c(395,396),
                           PRFTLF = c(397,398),
                           PRHRUSL = c(399,400),
                           PRJOBSEA = c(401,402),
                           PRPTHRS = c(403,404),
                           PRPTREA = c(405,406),
                           PRUNEDUR = c(407,409),
                           PRUNTYPE = c(412,413),
                           PRWKSCH = c(414,415),
                           PRWKSTAT = c(416,417),
                           PUIODP1 = c(426,427),
                           PUIODP2 = c(428,429),
                           PUIODP3 = c(430,431),
                           PEIO1COW = c(432,433),
                           PUIO1MFG = c(434,435),
                           PEIO2COW = c(442,443),
                           PUIO2MFG = c(444,445),
                           PRIOELG = c(458,459),
                           PRAGNA = c(460,461),
                           PRCOW1 = c(462,463),
                           PRCOW2 = c(464,465),
                           PRCOWPG = c(466,467),
                           PRDTCOW1 = c(468,469),
                           PRDTCOW2 = c(470,471),
                           PRDTIND1 = c(472,473),
                           PRDTIND2 = c(474,475),
                           PRDTOCC1 = c(476,477),
                           PRDTOCC2 = c(478,479),
                           PREMP = c(480,481),
                           PRMJIND1 = c(482,483),
                           PRMJIND2 = c(484,485),
                           PRMJOCC1 = c(486,487),
                           PRMJOCC2 = c(488,489),
                           PRMJOCGR = c(490,491),
                           PRNAGPWS = c(492,493),
                           PRNAGWS = c(494,495),
                           PRSJMS = c(496,497),
                           PRERELG = c(498,499),
                           PEERNUOT = c(500,501),
                           PEERNPER = c(502,503),
                           PEERNRT = c(504,505),
                           PEERNHRY = c(506,507),
                           PUERNH1C = c(508,511),
                           PEERNH2 = c(512,515),
                           PEERNWKP = c(559,560),
                           PEERNLAB = c(561,562),
                           PEERNCOV = c(563,564),
                           PENLFJH = c(565,566),
                           PENLFRET = c(567,568),
                           PENLFACT = c(569,570),
                           PESCHENR = c(575,576),
                           PESCHFT = c(577,578),
                           PESCHLVL = c(579,580),
                           PRNLFSCH = c(581,582),
                           PWFMWGT = c(583,592),
                           PWLGWGT = c(593,602),
                           PWORWGT = c(603,612),
                           PWSSWGT = c(613,622),
                           PWVETWGT = c(623,632),
                           PRCHLD = c(633,634),
                           PRNMCHLD = c(635,636),
                           QSTNUM = c(815,819),
                           OCCURNUM = c(820,821),
                           PEDIPGED = c(822,823),
                           PEHGCOMP = c(824,825),
                           PECYC = c(826,827),
                           PWCMPWGT = c(846,855),
                           PEIO1ICD = c(856,859),
                           PEIO1OCD = c(860,863),
                           PEIO2ICD = c(864,867),
                           PEIO2OCD = c(868,871),
                           PRIMIND1 = c(872,873),
                           PRIMIND2 = c(874,875),
                           PEAFWHN1 = c(876,877),
                           PEAFWHN2 = c(878,879),
                           PEAFWHN3 = c(880,881),
                           PEAFWHN4 = c(882,883),
                           PEPAR2 = c(886,887),
                           PEPAR1 = c(888,889),
                           PEPAR2TYP = c(890,891),
                           PEPAR1TYP = c(892,893),
                           PECOHAB = c(894,895),
                           PEDISEAR = c(906,907),
                           PEDISEYE = c(908,909),
                           PEDISREM = c(910,911),
                           PEDISPHY = c(912,913),
                           PEDISDRS = c(914,915),
                           PEDISOUT = c(916,917),
                           PRDISFLG = c(918,919),
                           PEPDEMP1 = c(936,937),
                           PTNMEMP1 = c(938,939),
                           PEPDEMP2 = c(940,941),
                           PTNMEMP2 = c(942,943),
                           PECERT1 = c(944,945),
                           PECERT2 = c(946,947), 
                           PECERT3 = c(948,949)))
